@inject AppState AppState

<MudExpansionPanel Text="@Title">
    @if (TagContent.Items != null)
    {
        @foreach (var item in TagContent.Items)
        {
			<TagAccordion TagContent="item" Title="@item.Title" OnButtonClicked="HandleButtonClicked" />
        }
    }
	@if(TagContent.Tags != null)
	{
		foreach (var tag in TagContent.Tags)
		{
			<MudButton Class="me-2" Color=Color.Primary ButtonType="ButtonType.Button" OnClick="() => HandleButtonClicked(tag)">@tag</MudButton>
		}
	}
</MudExpansionPanel>

@code {
    [Parameter] public string Title { get; set; }
    [Parameter] public PromptButton TagContent { get; set; }
    [Parameter] public EventCallback<string> OnButtonClicked { get; set; }

    private void HandleButtonClicked(string tag) => OnButtonClicked.InvokeAsync(tag);
}
